#include <iostream>
using namespace std;


void umn(int M,int N,int K,int L)
{
	
	if(N=L)
	{
		int **A = new int* [M]; // kol-vo strok
    for (int i = 0; i < M; i++)
         A[i] = new int [N]; // kol-vo stolbcov

		int **B = new int* [L]; // kol-vo strok
	for (int i = 0; i < L; i++)
       B[i] = new int [K]; // kol-vo stolbcov

		int **C = new int* [M]; // kol-vo strok
    for (int i = 0; i < M; i++)
        C[i] = new int [K]; // kol-vo stolbcov

    cout << "Vvedite pervyu matricy: " << endl;

    for (int i = 0; i < M; i++)
    {
        // Zapolnaem strochky:
        for (int j = 0; j < N; j++)
        {
                cin >> A[i][j];
        }
    }

    cout << "Vvedite vtoryu matricy: " << endl;

    for (int i = 0; i < N; i++)
    {
        // Zapolnaem strochky:
        for (int j = 0; j < M; j++)
        {
                cin >> B[i][j];
        }
    }
	for (int i = 0; i < M ; i++)
	{
		for (int j = 0; j < K ; j++)
		{
			C[i][j] = 0;
		}
	}
    cout << "Proizvedenie matric ravno: " << endl;
		for (int i = 0; i < M; i++)
		{
			for (int k = 0; k < K; k++)
			{
				for (int j = 0; j < N; j++)
				{
					C[i][k] += A[i][j] * B[j][k];
				}
			}
		}
		
		for (int i = 0; i < M ; i++)
		{
			for (int j = 0; j < K ; j++)
			{
				cout << C[i][j] << " " ;
			}
			cout << endl;
		}

		for (int i = 0; i < M; i++)
			delete [] A[i];
		for (int i = 0; i < L; i++)
			delete [] B[i];
		for (int i = 0; i < M; i++)
        delete [] C[i];
	}
	else
	{
		cout<<"error";
	}
}

void umnch(int M,int N,int P)
{
	int **A = new int* [M]; // KoJI-Bo CTPok
    for (int i = 0; i < M; i++)
         A[i] = new int [N]; // KoJI-Bo CToJIBuoB

	
	cout << "BBeDuTe MaTPuuy: " << endl;

    for (int i = 0; i < M; i++)
    {
        // 3aIIoJIHReM cTpo4ky:
        for (int j = 0; j < N; j++)
        {
                cin >> A[i][j];
        }
    }


	

    cout << "MaTPuua yMHozeHHaR Ha 4ucJIo: " << endl;
    for (int i = 0; i < M; i++)
     {
         for (int j = 0; j < N; j++)
         {
                 cout << A[i][j]*P<<" ";
         }
		 cout << endl;
     }
	for (int i = 0; i < M; i++)
			delete [] A[i];
}

int main()
{
	
	int M = 0, N = 0, K = 0, L = 0, P;
	cout << "Vvedite kol-vo strok matricy 1: ";
    cin >> M;
    cout << "Vvedite kol-vo stolbcov matricy 1: ";
    cin >> N;
	cout << "Vvedite kol-vo stolbcov matricy 2: ";
    cin >> K;
	cout << "Vvedite kol-vo strok matricy 2: ";
    cin >> L;
	umn(M,N,K,L);
	cout<<endl;



    cout << "BBeDuTe KoJI-Bo CTPok MaTPuubl  1: ";
    cin >> M;
    cout << "BBeDuTe KoJI-Bo CToJIBuoB MaTPuubl 1: ";
    cin >> N;
	cout << "BBeDuTe 4ucJIo, Ha KoToPoE XoTuTe yMHozuTb: ";
    cin >> P;
	umnch(M,N,P);
	cout<<endl;

}